# 变更日志

所有显著变更将记录在此文件中。

## v1.2.2 - 2025-12-18

优化：增强搜索体验与交互细节。

- **快速搜索**：
  - 新增 `/` 快捷键：在面板打开时按下 `/` 键可立即激活搜索框
  - 视觉优化：搜索框左侧显示 `/` 提示徽章，聚焦时自动保持显示，提示更直观
- **交互优化**：
  - ESC 键逻辑改进：当搜索框处于激活（聚焦）状态时，按下 ESC 仅退出聚焦状态，再次按下 ESC 才关闭面板，防止误操作

## v1.2.1 - 2025-12-18

功能增强：为 Switcher 面板添加快捷键直接跳转功能。

- **数字/字母快捷键跳转**：
  - 在面板打开时，每个标签页左侧会显示对应的快捷键（1, 2, ..., Q, W, ...）
  - **直接切换**：按住激活键（如 Alt/Option）的同时按下对应的数字或字母，可直接切换到该标签页
  - **智能冲突避让**：自动检测当前的激活快捷键（如 Alt+Q），避免将激活键分配给列表项，防止冲突
  - **搜索框优化**：默认打开面板时不激活搜索框，优先响应快捷键操作；直接输入字符会自动聚焦搜索框进行筛选

## v1.2.0 - 2025-12-18

重大更新：全面支持深色模式。

- **深色模式适配**：
  - Popup 弹出窗口和 Switcher 切换面板现在会跟随操作系统的深浅色设置自动切换主题
  - 针对深色环境重新设计了配色方案，降低视觉疲劳
  - 优化了文字对比度和状态提示颜色

## v1.1.0 - 2025-12-18

重大更新：推出全新的“最近标签页切换” (PowerToy Switcher) 功能。

- **标签页切换面板**：
  - 使用 `Alt+Q` (Windows) 或 `Option+Q` (Mac) 呼出全屏切换面板
  - 列表严格按最近使用时间 (MRU) 排序，极大提升多任务切换效率
  - 支持键盘导航：按住修饰键，按 `Q` 选择，松开立即切换
  - 支持鼠标交互：点击列表项直接切换，点击遮罩关闭

- **UI/UX 优化**：
  - 采用 Shadow DOM 技术，确保面板样式在任意网页上完美呈现，互不干扰
  - 智能显示标签页分组：以带颜色的胶囊形式展示 Chrome 分组名称
  - 平台适配：根据操作系统自动显示正确的快捷键提示 (Option/Alt)
  - 视觉优化：高亮选中项，美化滚动条，支持 Favicon 显示

- **调试能力增强**：
  - 新增 "Copy Debug Logs" 功能，一键导出后台运行日志
  - 优化 Content Script 与 Background 的通信机制，解决偶发的按键丢失问题

## v0.1.3 - 2025-12-18

优化：增强标签页切换面板的图标显示稳定性。

- 缺省图标优化：当标签页没有 favicon（如新标签页）或 favicon 加载失败时，自动使用 📄 Emoji 作为默认图标
- 错误处理：为 favicon 图片添加 `onerror` 事件监听，确保图标加载出错时能优雅降级

## v0.1.2 - 2025-12-18

新增：支持通过右键菜单将选中文本设置为标签页标题。

- 上下文菜单：在网页选中文本后右键，选择“设为标签页标题”即可快速修改
- 权限更新：新增 `contextMenus` 权限以支持右键菜单功能

## v0.1.1 - 2025-11-11

新增：支持在输入框直接输入自定义 emoji 生成 favicon。

- 弹窗输入框支持 `emoji` 文本，自动渲染为 32×32 PNG 并设置为 favicon
- 输入判定优化：识别 `http/https` 与 `data:image` URL，其他文本按 emoji 渲染
- 文档与测试：更新占位文案与新增测试用例 F-008.1
- 保持受限页面防护逻辑不变

## v0.1.0 - 2025-10-29

初次发布（Chrome 扩展：Tab PowerToy）。

- 支持修改当前标签页标题
- 支持修改网页图标（favicon），可使用图片 URL 或 emoji
- 弹窗 UI：标题输入、favicon 输入与 emoji 快选、恢复默认按钮
- 键盘操作：Enter 提交标题修改
- 受限页面识别：在 `chrome://`、`chrome-devtools://`、`chrome-extension://`、`edge://`、`about:` 页面避免脚本注入并禁用相关操作
- 默认标题填充：打开弹窗时自动显示当前标签页标题
- 文档完善：PRD、DEV_DESIGN、ROADMAP、TEST_CASES 更新